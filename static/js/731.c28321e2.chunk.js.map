{"version":3,"file":"static/js/731.c28321e2.chunk.js","mappings":"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","sources":["components/sidebar/user.js","pages/signup.js","services/firebase.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-loading-skeleton/dist/index.mjs"],"sourcesContent":["import { memo } from 'react';\nimport PropTypes  from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Skeleton from 'react-loading-skeleton';\n\nconst User = ({username, fullName}) => \n!username || !fullName ? (\n    <Skeleton count={1} height={61}/> \n):(\n    <Link to={`/p/${username}`} className='grid grid-cols-4 gap-4 mb-6 items-center'>\n        <div className='flex items-center justify-between col-span-1'>\n            <img className='rounded-full w-16 flex mr-3'\n            src={`/images/avatars/${username}.jpg`}\n            alt=''\n            />\n            <div className='col-span-3'>\n                <p className='font-bold text-sm'>{username}</p>\n                <p className='text-sm'>{fullName}</p>\n            </div>\n        </div>\n    </Link>\n)\nexport default memo(User);\nUser.propTypes = {\n    username: PropTypes.string,\n    fullName: PropTypes.string,\n\n}\n\n// User.whyDidYouRender = true;","import { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useContext } from 'react';\nimport FirebaseContext from '../context/firebase';\nimport { Link } from 'react-router-dom';\nimport * as ROUTES from '../constants/routes';\nimport { doesUsernameExists } from '../services/firebase';\n\n\nexport default function SignUp(){\n    const navigate = useNavigate()\n    const {firebase} = useContext(FirebaseContext);\n\n    const [username, setUsername] = useState('');\n    const [fullName, setfullName] = useState('');\n    const [emailAddress, setEmailAddress] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const isInvalid = password === ''|| emailAddress === '';\n\n    const handleSignup = async(event) => {\n        event.preventDefault();\n        const usernameExists = await doesUsernameExists(username);\n        if (!usernameExists.length){\n        try{\n            const createdUserResult = await firebase\n            .auth()\n            .createUserWithEmailAndPassword(emailAddress, password)\n\n            await createdUserResult.user.updateProfile({\n               displayName: username \n            });\n\n            await firebase.firestore().collection('users').add({\n                userId: createdUserResult.user.uid,\n                username: username.toLowerCase(),\n                fullName,\n                emailAddress: emailAddress.toLowerCase(),\n                following: [],\n                dateCreated: Date.now()\n            })\n            navigate(ROUTES.DASHBOARD)\n        } catch(error) {\n            setfullName('');\n            setEmailAddress('');\n            setPassword('');\n            setError(error.message)\n\n        }\n    } else{\n        setError('That username is already taken')\n    }\n    };\n    useEffect(() => {\n       document.title = 'Sign-Up - Instagram';\n        \n    }, []);\n\n    return (\n        <div className='container flex mx-auto max-w-screen-md items-center h-screen'>\n            <div className='flex w-3/5'>\n            <img src='/images/iphone-with-profile.jpg' />\n            </div>\n            <div className='flex flex-col w-2/5'>\n               <div className='flex flex-col'>\n               <h1 className='flex justify-center w-full'>\n                    <img src='/images/logo.png' className='mt-2 w-6/12 mb-4'/>\n                </h1>\n                {error&&<p className='mb-4 text-xs text-red-primary'>{error}</p>}\n                \n\n                <form onSubmit={handleSignup} method='POST'>\n                <input\n                    aria-label='Enter your username'\n                    type='text'\n                    placeholder='Username'\n                    className='text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2'\n                    onChange={({target}) => setUsername(target.value)}\n                    value={username}\n                    />\n                    <input\n                    aria-label='Enter your full name'\n                    type='text'\n                    placeholder='Full name'\n                    className='text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2'\n                    onChange={({target}) => setfullName(target.value)}\n                    value={fullName}\n                    />\n                    <input\n                    aria-label='Enter your email address'\n                    type='text'\n                    placeholder='Email address'\n                    className='text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2'\n                    onChange={({target}) => setEmailAddress(target.value)}\n                    value={emailAddress}\n                    />\n                    <input\n                    aria-label='Enter your password'\n                    type='password'\n                    placeholder='Password'\n                    className='text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2'\n                    onChange={({target}) => setPassword(target.value)}\n                    value={password}\n                    />\n                    <button\n                        disabled={isInvalid}\n                        type=\"submit\"\n                        className={`bg-blue-medium text-black w-full rounded h-8 font-bold ${isInvalid &&'cursor-not-allowed opacity-50'}`\n                }\n                    >\n                        Sign Up\n                    </button>\n                </form>\n            </div>\n            <div className='flex fustify-center items-center flex-col w-full bg-white p-4 border border-gray-primary'>\n                <p className='text-sm'>\n                    Have an account ?\n                </p>\n                \n                <Link to={ROUTES.LOGIN} className=\"font-bold\">\n                            Log in\n                        </Link>\n            </div>\n               </div>\n               \n        </div>\n        \n        \n    )\n}\n\n//text-red-primary \n//text-gray-base\n//border-gray-primary","import user from '../components/sidebar/user';\nimport {firebase, FieldValue} from '../lib/firebase';\n\nexport async function doesUsernameExists(username) {\n    const result = await firebase\n    .firestore()\n    .collection('users')\n    .where('username', '==', username)\n    .get()\n\n    return result.docs.map((user) => user.data().length > 0)\n}\n\nexport async function getUserByUsername(username) {\n    const result = await firebase\n    .firestore()\n    .collection('users')\n    .where('username', '==', username.toLowerCase())\n    .get()\n\n    return result.docs.map((item) => ({\n         ...item.data(),\n         docId: item.id\n     }))\n\n     \n}\n\nexport async function getUserByUserId(userId) {\n    const result = await firebase\n    .firestore()\n    .collection('users')\n    .where('userId', '==', userId)\n    .get()\n\n    const user = result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id\n    }));\n\n    return user;\n}\n\nexport async function getSuggestedProfiles(userId, following) {\n    const result = await firebase.firestore().collection('users').limit(10).get();\n    return result.docs.map((user) => ({...user.data(), docId: user.id})).filter((profile) => profile.userId !== userId && !following.includes(profile.userId))\n} \n\n//updateLoggedInUserFollowing, updateFollowedUserFollowers\n\nexport async function updateLoggedInUserFollowing(loggedInUserDocId, profileId, isFollowingProfile){\n    return firebase.firestore().collection('users').doc(loggedInUserDocId).update({\n        following: isFollowingProfile? FieldValue.arrayRemove(profileId):FieldValue.arrayUnion(profileId)\n    })\n}\n\nexport async function updateFollowedUserFollowers(profileDocId, loggedInUserDocId, isFollowingProfile){\n    return firebase.firestore().collection('users').doc(profileDocId).update({\n        followers: isFollowingProfile? FieldValue.arrayRemove(loggedInUserDocId):FieldValue.arrayUnion(loggedInUserDocId)\n    })\n}\n\nexport async function getPhotos(userId, following){\nconst result = await firebase.firestore().collection('photos').where('userId', 'in', following).get();\n\nconst userFollowedPhotos = result.docs.map((photo) => ({\n    ...photo.data(),\n    docId: photo.id\n}));\n\nconst photosWithUserDetails = await Promise.all(\n    userFollowedPhotos.map(async(photo) => {\n        let userLikedPhoto = false;\n        if(photo.likes.includes(userId)){\n            userLikedPhoto = true;\n        }\n        const user = await getUserByUserId(photo.userId);\n        const {username} = user[0];\n        return {username, ...photo, userLikedPhoto}\n    })\n)\nreturn photosWithUserDetails;\n}\n\nexport async function getUserPhotosByUsername(username) {\n    const [user] = await getUserByUsername(username);\n    console.log('user', user)\n  const result = await firebase\n    .firestore()\n    .collection('photos')\n    .where('userId', '==', user.userId)\n    .get();\n\n  return result.docs.map((item) => ({\n    ...item.data(),\n    docId: item.id\n  }));\n}\n\nexport async function isUserFollowingProfile(loggedInUsername, profileUserId){\n const result = await firebase.firestore().collection('users').where('username', '==', loggedInUsername).where('following', 'array-contains', profileUserId).get();\n \n const [response={}] = result.docs.map((item)=> ({\n     ...item.data(),\n     docId:item.id\n\n }))\n return response.userId;\n}\n\nexport async function toggleFollow(\n    isFollowingProfile,\n    activeUserDocId,\n    profileDocId,\n    profileUserId,\n    followingUserId\n  ) {\n\n    await updateLoggedInUserFollowing(activeUserDocId, profileUserId, isFollowingProfile);\n  \n\n    await updateFollowedUserFollowers(profileDocId, followingUserId, isFollowingProfile);\n  }","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b, _c;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    const countCeil = Math.ceil(count);\n    for (let i = 0; i < countCeil; i++) {\n        let thisStyle = style;\n        if (countCeil > count && i === countCeil - 1) {\n            // count is not an integer and we've reached the last iteration of\n            // the loop, so add a \"fractional\" skeleton.\n            //\n            // For example, if count is 3.5, we've already added 3 full\n            // skeletons, so now we add one more skeleton that is 0.5 times the\n            // original width.\n            const width = (_b = thisStyle.width) !== null && _b !== void 0 ? _b : '100%'; // 100% is the default since that's what's in the CSS\n            const fractionalPart = count % 1;\n            const fractionalWidth = typeof width === 'number'\n                ? width * fractionalPart\n                : `calc(${width} * ${fractionalPart})`;\n            thisStyle = { ...thisStyle, width: fractionalWidth };\n        }\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: thisStyle, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            // Without the <br />, the skeleton lines will all run together if\n            // `width` is specified\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_c = styleOptions.enableAnimation) !== null && _c !== void 0 ? _c : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n"],"names":["User","username","fullName","to","className","src","alt","count","height","memo","SignUp","navigate","useNavigate","firebase","useContext","FirebaseContext","useState","setUsername","setfullName","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignup","event","preventDefault","doesUsernameExists","length","auth","createUserWithEmailAndPassword","createdUserResult","user","updateProfile","displayName","firestore","collection","add","userId","uid","toLowerCase","following","dateCreated","Date","now","ROUTES","message","useEffect","document","title","onSubmit","method","type","placeholder","onChange","target","value","disabled","where","get","result","docs","map","data","getUserByUsername","item","docId","id","getUserByUserId","getSuggestedProfiles","limit","filter","profile","includes","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","photosWithUserDetails","getUserPhotosByUsername","console","log","isUserFollowingProfile","loggedInUsername","profileUserId","response","toggleFollow","activeUserDocId","followingUserId","source","excluded","key","i","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","SkeletonThemeContext","React","Skeleton","_a","_b","_c","Wrapper","wrapper","customClassName","containerClassName","containerTestId","circle","styleProp","style","originalPropsStyleOptions","contextStyleOptions","propsStyleOptions","entries","styleOptions","baseColor","highlightColor","width","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","countCeil","Math","ceil","thisStyle","fractionalPart","fractionalWidth","skeletonSpan","push","el"],"sourceRoot":""}